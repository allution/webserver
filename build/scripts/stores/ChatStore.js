define(["lib/lodash","lib/events","constants/AppConstants","dispatcher/AppDispatcher"],function(e,t,n,r){var i="change",s="",o=253,u=e.extend({},t,{emitChange:function(){this.trigger(i)},addChangeListener:function(e){this.on(i,e)},removeChangeListener:function(e){this.off(i,e)},_setInputText:function(e){s=e},_clearInputText:function(){s=""},_setHeight:function(e){o=e},getState:function(){return{inputText:s,height:o}}});return r.register(function(e){var t=e.action;switch(t.actionType){case n.ActionTypes.SET_CHAT_INPUT_TEXT:u._setInputText(t.text),u.emitChange();return;case n.ActionTypes.SAY_CHAT:u._clearInputText(),u.emitChange();return;case n.ActionTypes.SET_CHAT_HEIGHT:u._setHeight(t.newHeight),u.emitChange();return}return!0}),u});