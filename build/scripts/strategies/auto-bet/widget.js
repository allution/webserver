define(["lib/react","lib/react-radio"],function(e,t){var n=e.createFactory(t),r=e.DOM;return e.createClass({displayName:"AutoBetWidget",propTypes:{StrategyEditorStore:e.PropTypes.object.isRequired,StrategyEditorActions:e.PropTypes.object.isRequired},getState:function(){var e=this.props.StrategyEditorStore.getWidgetState();return e.active=this.props.StrategyEditorStore.getEditorState(),e},getInitialState:function(){return this.getState()},componentDidMount:function(){this.props.StrategyEditorStore.addWidgetChangeListener(this._onChange)},componentWillUnmount:function(){this.props.StrategyEditorStore.removeWidgetChangeListener(this._onChange)},_onChange:function(){this.setState(this.getState())},updateOnLoss:function(e){this.props.StrategyEditorActions.setWidgetState("onLossSelectedOpt",e)},updateOnWin:function(e){this.props.StrategyEditorActions.setWidgetState("onWinSelectedOpt",e)},updateBetAmount:function(){var e=this.refs.bet_amount.getDOMNode().value;this.props.StrategyEditorActions.setWidgetState("baseBet",e)},updateAutoCashAt:function(){var e=this.refs.auto_cash_at.getDOMNode().value;this.props.StrategyEditorActions.setWidgetState("autoCashAt",e)},updateOnLossQty:function(){var e=this.refs.onLossQty.getDOMNode().value;this.props.StrategyEditorActions.setWidgetState("onLossIncreaseQty",e)},updateOnWinQty:function(){var e=this.refs.onWinQty.getDOMNode().value;this.props.StrategyEditorActions.setWidgetState("onWinIncreaseQty",e)},updateMaxBetStop:function(){var e=this.refs.max_bet_stop.getDOMNode().value;this.props.StrategyEditorActions.setWidgetState("maxBetStop",e)},render:function(){return r.div({className:"widget-container"},r.div({className:"stra-base-bet"},r.span({className:"widget-title"},"Base Bet: "),r.input({type:"text",ref:"bet_amount",onChange:this.updateBetAmount,value:this.state.baseBet,disabled:this.state.active}),r.span(null,"Bits")),r.div({className:"stra-cash-out-at"},r.span({className:"widget-title"},"Auto Cashout at:"),r.input({type:"text",ref:"auto_cash_at",onChange:this.updateAutoCashAt,value:this.state.autoCashAt,disabled:this.state.active}),r.span(null,"x")),r.div({className:"stra-max-bet-stop"},r.span({className:"widget-title"},"Stop if bet is > "),r.input({type:"text",ref:"max_bet_stop",onChange:this.updateMaxBetStop,value:this.state.maxBetStop,disabled:this.state.active}),r.span(null,"Bits")),r.div({className:"stra-on-loss"},r.span({className:"widget-title"},"On loss:"),n({name:"onLoss",onChange:this.updateOnLoss,defaultValue:this.state.onLossSelectedOpt},r.input({type:"radio",className:"stra-on-loss-return-to-base-radio",value:"return_to_base",disabled:this.state.active},r.span(null,"Return to base bet"),r.br()),r.input({type:"radio",className:"stra-on-loss-increase-bet-by",value:"increase_bet_by",disabled:this.state.active},r.span(null,"Increase bet by: "),r.input({type:"text",ref:"onLossQty",onChange:this.updateOnLossQty,value:this.state.onLossIncreaseQty,disabled:this.state.active||this.state.onLossSelectedOpt!="increase_bet_by"}),r.span(null,"x")))),r.div({className:"stra-on-win"},r.span({className:"widget-title"},"On win:"),n({name:"onWin",onChange:this.updateOnWin,defaultValue:this.state.onWinSelectedOpt},r.input({type:"radio",className:"stra-on-win-return-to-base-radio",value:"return_to_base",disabled:this.state.active},r.span(null,"Return to base bet"),r.br()),r.input({type:"radio",className:"stra-on-win-increase_bet_by",value:"increase_bet_by",disabled:this.state.active},r.span(null,"Increase bet by: "),r.input({type:"text",ref:"onWinQty",onChange:this.updateOnWinQty,value:this.state.onWinIncreaseQty,disabled:this.state.active||this.state.onWinSelectedOpt!="increase_bet_by"}),r.span(null,"x")))))}})});