define(["lib/react","lib/clib","constants/AppConstants"],function(e,t,n){var r=e.DOM;return e.createClass({displayName:"BetButton",propTypes:{engine:e.PropTypes.object.isRequired,invalidBet:e.PropTypes.func.isRequired,placeBet:e.PropTypes.func.isRequired,cancelBet:e.PropTypes.func.isRequired},getInitialState:function(){return{initialDisable:!0}},componentDidMount:function(){var e=this;setTimeout(function(){e.isMounted()&&e.setState({initialDisable:!1})},n.BetButton.INITIAL_DISABLE_TIME)},_getSendingBet:function(){var e;return this.props.engine.gameState!=="STARTING"&&(e=r.a({onClick:this.props.cancelBet},"cancel")),r.span(null,"Sending bet...",e)},render:function(){var e=this;if(this.props.engine.isBetting){var n=this.props.engine.nextAutoCashout,i;this.props.engine.nextBetAmount&&(i=t.formatSatoshis(this.props.engine.nextBetAmount,0)+" "+t.grammarBits(this.props.engine.nextBetAmount));var s=null;return n&&(s=" with auto cash-out at "+n/100+"x"),r.div({className:"cash-out"},r.a({className:"big-button-disable unclick"},"Betting ",i,s),r.div({className:"cancel"},this._getSendingBet()))}if(this.state.initialDisable)return r.div({className:"bet-button-container"},r.a({className:"big-button-disable unclick unselect"},"Place Bet!"),o?r.div({className:"invalid cancel"},o):null);var o=this.props.invalidBet(),u;return o||this.props.engine.placingBet?(u=r.a({className:"big-button-disable unclick unselect"},"Place Bet!"),r.div({className:"bet-button-container"},u,o?r.div({className:"invalid cancel"},o):null)):(u=r.a({className:"big-button unselect"},"Place Bet!"),r.div({className:"bet-button-container",onClick:e.props.placeBet},u,o?r.div({className:"invalid cancel"},o):null))}})});