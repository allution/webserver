define(["lib/react","components/Chart","components/Controls","components/TabsSelector","components/Players","components/BetBar","stores/EngineVirtualStore"],function(e,t,n,r,i,s,o){function p(){var e=o.getState();return{isConnected:e.isConnected,maxWin:e.maxWin}}var u=e.createFactory(t),a=e.createFactory(n),f=e.createFactory(r),l=e.createFactory(i),c=e.createFactory(s),h=e.DOM;return e.createClass({displayName:"Game",getInitialState:function(){return p()},componentDidMount:function(){o.addChangeListener(this._onChange)},componentWillUnmount:function(){o.removeChangeListener(this._onChange)},_onChange:function(){this.isMounted()&&this.setState(p())},render:function(){return this.state.isConnected?h.div({className:"content"},h.div({className:"grid grid-pad"},h.div({className:"col-7-12 game"},h.div({className:"chart",style:{position:"relative"}},h.div({style:{position:"absolute",bottom:"27px",right:"30px",fontSize:"55%",backgroundColor:"white"}},"Max profit: ",(this.state.maxWin/1e8).toFixed(2)," BTC"),u()),a()),h.div({className:"col-5-12 tabs"},h.div({className:"players"},l()),h.div({className:"bet-bar"},c()),h.div({className:"log-chat"},f())))):h.p(null,"Connecting to server..")}})});