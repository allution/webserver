AmCharts.GaugeAxis=AmCharts.Class({construct:function(e){this.cname="GaugeAxis",this.radius="95%",this.startAngle=-120,this.endAngle=120,this.startValue=0,this.endValue=200,this.gridCount=5,this.tickLength=10,this.minorTickLength=5,this.tickColor="#555555",this.labelFrequency=this.tickThickness=this.tickAlpha=1,this.inside=!0,this.labelOffset=10,this.showLastLabel=this.showFirstLabel=!0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridInside=!0,this.topTextYOffset=0,this.topTextBold=!0,this.bottomTextYOffset=0,this.bottomTextBold=!0,this.centerY=this.centerX="0%",this.bandOutlineAlpha=this.bandOutlineThickness=0,this.bandOutlineColor="#000000",this.bandAlpha=1,AmCharts.applyTheme(this,e,"GaugeAxis")},value2angle:function(e){return(e-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(e){if(void 0!==e){this.topText=e;var t=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var n=this.topTextFontSize;n||(n=t.fontSize);var r=this.topTextColor;r||(r=t.color),e=AmCharts.text(t.container,e,r,t.fontFamily,n,void 0,this.topTextBold),e.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset),this.chart.graphsSet.push(e),this.topTF=e}}},setBottomText:function(e){if(void 0!==e){this.bottomText=e;var t=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var n=this.bottomTextFontSize;n||(n=t.fontSize);var r=this.bottomTextColor;r||(r=t.color),e=AmCharts.text(t.container,e,r,t.fontFamily,n,void 0,this.bottomTextBold),e.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset),this.bottomTF=e,this.chart.graphsSet.push(e)}}},draw:function(){var e=this.chart,t=e.graphsSet,n=this.startValue,r=this.endValue,i=this.valueInterval;isNaN(i)&&(i=(r-n)/this.gridCount);var s=this.minorTickInterval;isNaN(s)&&(s=i/5);var o=this.startAngle,u=this.endAngle,a=this.tickLength,f=(r-n)/i+1,l=(u-o)/(f-1);this.singleValueAngle=r=l/i;var c=e.container,h=this.tickColor,p=this.tickAlpha,d=this.tickThickness,v=i/s,m=l/v,s=this.minorTickLength,g=this.labelFrequency,y=this.radiusReal;this.inside||(y-=15);var b=e.centerX+AmCharts.toCoordinate(this.centerX,e.realWidth),w=e.centerY+AmCharts.toCoordinate(this.centerY,e.realHeight);this.centerXReal=b,this.centerYReal=w;var E={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},S,x;this.gridInside?x=S=y:(S=y-a,x=S+s);var T=this.axisThickness/2,u=AmCharts.wedge(c,b,w,o,u-o,S+T,S+T,S-T,0,E);t.push(u),u=AmCharts.doNothing,AmCharts.isModern||(u=Math.round),E=AmCharts.getDecimals(i);for(S=0;S<f;S++){var N=n+S*i,T=o+S*l,C=u(b+y*Math.sin(T/180*Math.PI)),k=u(w-y*Math.cos(T/180*Math.PI)),L=u(b+(y-a)*Math.sin(T/180*Math.PI)),A=u(w-(y-a)*Math.cos(T/180*Math.PI)),C=AmCharts.line(c,[C,L],[k,A],h,p,d,0,!1,!1,!0);t.push(C),C=-1,L=this.labelOffset,this.inside||(L=-L-a,C=1);var k=Math.sin(T/180*Math.PI),A=Math.cos(T/180*Math.PI),k=b+(y-a-L)*k,L=w-(y-a-L)*A,O=this.fontSize;isNaN(O)&&(O=e.fontSize);var A=Math.sin((T-90)/180*Math.PI),M=Math.cos((T-90)/180*Math.PI);if(0<g&&S/g==Math.round(S/g)&&(this.showLastLabel||S!=f-1)&&(this.showFirstLabel||0!==S)){var _=AmCharts.formatNumber(N,e.nf,E),D=this.unit;D&&(_="left"==this.unitPosition?D+_:_+D),(D=this.labelFunction)&&(_=D(N)),N=AmCharts.text(c,_,e.color,e.fontFamily,O),O=N.getBBox(),N.translate(k+C*O.width/2*M,L+C*O.height/2*A),t.push(N)}if(S<f-1)for(N=1;N<v;N++)A=T+m*N,C=u(b+x*Math.sin(A/180*Math.PI)),k=u(w-x*Math.cos(A/180*Math.PI)),L=u(b+(x-s)*Math.sin(A/180*Math.PI)),A=u(w-(x-s)*Math.cos(A/180*Math.PI)),C=AmCharts.line(c,[C,L],[k,A],h,p,d,0,!1,!1,!0),t.push(C)}if(t=this.bands)for(n=0;n<t.length;n++)if(i=t[n])h=i.startValue,p=i.endValue,a=AmCharts.toCoordinate(i.radius,y),isNaN(a)&&(a=x),f=AmCharts.toCoordinate(i.innerRadius,y),isNaN(f)&&(f=a-s),l=o+r*(h-this.startValue),p=r*(p-h),d=i.outlineColor,void 0==d&&(d=this.bandOutlineColor),v=i.outlineThickness,isNaN(v)&&(v=this.bandOutlineThickness),m=i.outlineAlpha,isNaN(m)&&(m=this.bandOutlineAlpha),h=i.alpha,isNaN(h)&&(h=this.bandAlpha),a=AmCharts.wedge(c,b,w,l,p,a,a,f,0,{fill:i.color,stroke:d,"stroke-width":v,"stroke-opacity":m}),a.setAttr("opacity",h),e.gridSet.push(a),this.addEventListeners(a,i);this.axisCreated=!0,this.setTopText(this.topText),this.setBottomText(this.bottomText),e=e.graphsSet.getBBox(),this.width=e.width,this.height=e.height},addEventListeners:function(e,t){var n=this.chart;e.mouseover(function(e){n.showBalloon(t.balloonText,t.color,!0)}).mouseout(function(e){n.hideBalloon()})}}),AmCharts.GaugeArrow=AmCharts.Class({construct:function(e){this.cname="GaugeArrow",this.color="#000000",this.nailAlpha=this.alpha=1,this.startWidth=this.nailRadius=8,this.endWidth=0,this.borderAlpha=1,this.radius="90%",this.nailBorderAlpha=this.innerRadius=0,this.nailBorderThickness=1,this.frame=0,AmCharts.applyTheme(this,e,"GaugeArrow")},setValue:function(e){var t=this.chart;t?t.setValue?t.setValue(this,e):this.previousValue=this.value=e:this.previousValue=this.value=e}}),AmCharts.GaugeBand=AmCharts.Class({construct:function(){this.cname="GaugeBand"}}),AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(e){this.cname="AmAngularGauge",AmCharts.AmAngularGauge.base.construct.call(this,e),this.theme=e,this.type="gauge",this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10,this.faceColor="#FAFAFA",this.faceAlpha=0,this.faceBorderWidth=1,this.faceBorderColor="#555555",this.faceBorderAlpha=0,this.arrows=[],this.axes=[],this.startDuration=1,this.startEffect="easeOutSine",this.adjustSize=!0,this.extraHeight=this.extraWidth=0,AmCharts.applyTheme(this,e,this.cname)},addAxis:function(e){this.axes.push(e)},formatString:function(e,t){return e=AmCharts.formatValue(e,t,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);var e;0===this.axes.length&&(e=new AmCharts.GaugeAxis(this.theme),this.addAxis(e));var t;for(t=0;t<this.axes.length;t++)e=this.axes[t],e=AmCharts.processObject(e,AmCharts.GaugeAxis,this.theme),e.chart=this,this.axes[t]=e;var n=this.arrows;for(t=0;t<n.length;t++){e=n[t],e=AmCharts.processObject(e,AmCharts.GaugeArrow,this.theme),e.chart=this,n[t]=e;var r=e.axis;AmCharts.isString(r)&&(e.axis=AmCharts.getObjById(this.axes,r)),e.axis||(e.axis=this.axes[0]),isNaN(e.value)&&e.setValue(e.axis.startValue),isNaN(e.previousValue)&&(e.previousValue=e.axis.startValue)}this.setLegendData(n),this.drawChart(),this.totalFrames=1e3*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var e=this.container,t=this.updateWidth();this.realWidth=t;var n=this.updateHeight();this.realHeight=n;var r=AmCharts.toCoordinate,i=r(this.marginLeft,t),s=r(this.marginRight,t),o=r(this.marginTop,n)+this.getTitleHeight(),u=r(this.marginBottom,n),a=r(this.radius,t,n),r=t-i-s,f=n-o-u+this.extraHeight;a||(a=Math.min(r,f)/2),a<this.minRadius&&(a=this.minRadius),this.radiusReal=a,this.centerX=(t-i-s)/2+i,this.centerY=(n-o-u)/2+o+this.extraHeight/2,isNaN(this.gaugeX)||(this.centerX=this.gaugeX),isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var t=this.faceAlpha,n=this.faceBorderAlpha,l;if(0<t||0<n)l=AmCharts.circle(e,a,this.faceColor,t,this.faceBorderWidth,this.faceBorderColor,n,!1),l.translate(this.centerX,this.centerY),l.toBack(),(e=this.facePattern)&&l.pattern(e);for(t=a=e=0;t<this.axes.length;t++){n=this.axes[t],i=n.radius,n.radiusReal=AmCharts.toCoordinate(i,this.radiusReal),n.draw();if(-1!==i.indexOf("%"))var c=1+(100-Number(i.substr(0,i.length-1)))/100;n.width*c>e&&(e=n.width*c),n.height*c>a&&(a=n.height*c)}(c=this.legend)&&c.invalidateSize();if(this.adjustSize&&!this.chartCreated){l&&(l=l.getBBox(),l.width>e&&(e=l.width),l.height>a&&(a=l.height)),l=0;if(f>a||r>e)l=Math.min(f-a,r-e);0<l&&(this.extraHeight=f-a,this.chartCreated=!0,this.validateNow())}this.dispDUpd(),this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0,this.chartCreated=!1,AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(e){this.arrows.push(e)},removeArrow:function(e){AmCharts.removeFromArray(this.arrows,e),this.validateNow()},removeAxis:function(e){AmCharts.removeFromArray(this.axes,e),this.validateNow()},drawArrow:function(e,t){e.set&&e.set.remove();var n=this.container;e.set=n.set();if(!e.hidden){var r=e.axis,i=r.radiusReal,s=r.centerXReal,o=r.centerYReal,u=e.startWidth,a=e.endWidth,f=AmCharts.toCoordinate(e.innerRadius,r.radiusReal),l=AmCharts.toCoordinate(e.radius,r.radiusReal);r.inside||(l-=15);var c=e.nailColor;c||(c=e.color);var h=e.nailColor;h||(h=e.color),c=AmCharts.circle(n,e.nailRadius,c,e.nailAlpha,e.nailBorderThickness,c,e.nailBorderAlpha),e.set.push(c),c.translate(s,o),isNaN(l)&&(l=i-r.tickLength);var r=Math.sin(t/180*Math.PI),i=Math.cos(t/180*Math.PI),c=Math.sin((t+90)/180*Math.PI),p=Math.cos((t+90)/180*Math.PI),n=AmCharts.polygon(n,[s-u/2*c+f*r,s+l*r-a/2*c,s+l*r+a/2*c,s+u/2*c+f*r],[o+u/2*p-f*i,o-l*i+a/2*p,o-l*i-a/2*p,o-u/2*p-f*i],e.color,e.alpha,1,h,e.borderAlpha,void 0,!0);e.set.push(n),this.graphsSet.push(e.set)}},setValue:function(e,t){e.axis&&e.axis.value2angle&&(e.axis.value2angle(t),e.frame=0,e.previousValue=e.value),e.value=t;var n=this.legend;n&&n.updateValues()},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e)switch(t){case"hideItem":this.hideArrow(e);break;case"showItem":this.showArrow(e)}},hideArrow:function(e){e.set.hide(),e.hidden=!0},showArrow:function(e){e.set.show(),e.hidden=!1},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var e=this.arrows.length,t,n=0;n<e;n++){t=this.arrows[n];var r;t.frame>=this.totalFrames?r=t.value:(t.frame++,t.clockWiseOnly&&t.value<t.previousValue&&(r=t.axis,t.previousValue-=r.endValue-r.startValue),r=AmCharts.getEffect(this.startEffect),r=AmCharts[r](0,t.frame,t.previousValue,t.value-t.previousValue,this.totalFrames),isNaN(r)&&(r=t.value)),r=t.axis.value2angle(r),this.drawArrow(t,r)}}});